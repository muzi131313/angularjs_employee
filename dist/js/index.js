!function(){"use strict";angular.module("app",["ui.router","ngCookies","validation"])}(),function(){"use strict";angular.module("app").value("dict",{}).run(["$http","dict",function(t,e){t({method:"GET",url:"/data/city.json"}).then(function(t){e.city=t},function(t){}),t({method:"GET",url:"/data/salary.json"}).then(function(t){e.salary=t},function(t){}),t({method:"GET",url:"/data/scale.json"}).then(function(t){e.scale=t},function(t){}),e.searchTabs=[{id:"city",name:"城市"},{id:"salary",name:"薪资"},{id:"scale",name:"公司规模"}]}])}(),function(){"use strict";angular.module("app").config(["$provide",function(t){t.decorator("$http",["$delegate","$q",function(t,e){return t.post=function(n,o,r){var a=e.defer();return t.get(n).then(function(t){a.resolve(t)}).catch(function(t){a.reject(t)}),{success:function(t){a.promise.then(t)},error:function(t){a.promise.then(null,t)}}},t}])}])}(),function(){"use strict";function t(){}angular.module("app").provider("message",t.bind(t)),t.prototype.setLevel=function(t){t=t},t.prototype.$get=function(){return{log:function(){"log"===level?console.log(arguments):angular.noop()},error:function(){"error"===level?console.error(arguments):angular.noop()},warn:function(){"error"===level?console.warn(arguments):angular.noop()}}}}(),function(){"use strict";angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("main",{url:"/main",templateUrl:"view/main.html",controller:"mainCtrl"}).state("position",{url:"/position/:id",templateUrl:"view/position.html",controller:"positionCtrl"}).state("company",{url:"/company/:id",templateUrl:"view/company.html",controller:"companyCtrl"}).state("search",{url:"/search",templateUrl:"view/search.html",controller:"searchCtrl"}).state("my",{url:"/my",templateUrl:"view/my.html",controller:"myCtrl"}).state("favourite",{url:"/favourite",templateUrl:"view/user/favourite.html",controller:"favouriteCtrl"}).state("login",{url:"/login",templateUrl:"view/user/login.html",controller:"loginCtrl"}).state("person",{url:"/person",templateUrl:"view/user/person.html",controller:"personCtrl"}).state("post",{url:"/post",templateUrl:"view/user/post.html",controller:"postCtrl"}).state("register",{url:"/register",templateUrl:"view/user/register.html",controller:"registerCtrl"}),e.otherwise("main")}])}(),function(){"use strict";angular.module("app").config(["$validationProvider",function(t){var e={phone:/^1[\d]{10}/,password:function(t){return(t+"").length>5}},n={phone:{success:"",error:"必须是11位手机号"},password:{success:"",error:"长度至少6位"}};t.setExpression(e).setDefaultMsg(n)}])}(),function(){"use strict";angular.module("app").controller("companyCtrl",["$scope","$http","$state",function(t,e,n){e({method:"GET",url:"/data/company.json",params:{companyId:n.params.id}}).then(function(e){t.company=e.data,t.$broadcast("to-child",{word:"world!"})},function(t){}),t.$on("to-parent",function(t,e){console.log("to-parent",t,e)})}])}(),function(){"use strict";angular.module("app").controller("favouriteCtrl",["$scope","$http","$state","dict",function(t,e,n,o){t.favouriteList=[{}]}])}(),function(){"use strict";angular.module("app").controller("loginCtrl",["$scope","$http","$state","dict",function(t,e,n,o){}])}(),function(){"use strict";angular.module("app").controller("mainCtrl",["$scope","$http",function(t,e){e({method:"GET",url:"/data/positionList.json"}).then(function(e){t.jobList=e.data},function(t){})}])}(),function(){"use strict";angular.module("app").controller("myCtrl",["$scope","$http","$state",function(t,e,n){}])}(),function(){"use strict";angular.module("app").controller("personCtrl",["$scope","$http","$state","dict",function(t,e,n,o){}])}(),function(){"use strict";angular.module("app").controller("positionCtrl",["$scope","$http","$state","$q","cache",function(t,e,n,o,r){function a(n){var r=o.defer();return e({method:"GET",url:"/data/company.json",params:{companyId:n}}).then(function(e){t.company=e.data,r.resolve(e)},function(t){r.reject(t)}),r.promise}var i=n.params.id;t.isLogin=!1,t.isActive=!1,r.put("key","day"),function(){var n=o.defer();return e({method:"GET",url:"/data/position.json",params:{positionId:i}}).then(function(e){t.position=e.data,n.resolve(e)},function(t){n.reject(t)}),n.promise}().then(function(t){a(t.data.companyId)})}])}(),function(){"use strict";angular.module("app").controller("postCtrl",["$scope","$http","$state","dict",function(t,e,n,o){t.tabClick=function(t,e){},t.tabs=[{id:"all",name:"全部"},{id:"pass",name:"面试邀请"},{id:"fail",name:"不合适"}],t.postList=[{}]}])}(),function(){"use strict";angular.module("app").controller("registerCtrl",["$scope","$http","$state","dict","$interval",function(t,e,n,o,r){t.user={},t.mySubmit=function(){console.log("$scope.user: ",t.user),e.post("data/regist.json",t.user).success(function(t){console.log("resp:",t)})};var a=60;t.sendMsgCode=function(){e({method:"GET",url:"data/code.json",params:{}}).then(function(e){if(1==+e.data.state){a=60;var n=r(function(){if(a<=0)return r.cancel(n),void(t.time="");a--,t.time=a+"s"},1e3)}}).catch(function(t){console.log("get code.json exists error: ",t)})}}])}(),function(){"use strict";angular.module("app").controller("searchCtrl",["$scope","$http","$state","dict",function(t,e,n,o){function r(t,e,n){t=t||[];var o,r,a,i,c,l;return t=t.filter(function(t,s){return r=i=l="",n&&Object.keys(n).length&&(n.cityName&&(r=n.cityName),n.jobName&&(i=n.jobName),n.salaryName&&(l=n.salaryName)),e&&(r=i=l=e),o=!!~t.cityName.indexOf(e),a=!!~t.job.indexOf(e),c=!!~t.salaryName.indexOf(e),o||a||c})}function a(n,o){e({method:"GET",url:"/data/positionList.json",params:o||{}}).then(function(e){r(e.data,n,o),t.jobList=e.data},function(t){})}t.search=function(){a(t.name,{jobName:t.jobName,cityName:t.cityName,salarayName:t.salarayName})},t.cancel=function(){t.name="",t.jobName="",t.cityName="",t.salarayName="",t.search()},t.tabClick=function(e,n){console.log("tab click item: ",e,n,o),t.sheets.list=o[e].data,t.sheets.visible=!0,t.tabId=e},t.selectClick=function(e,n){var o=t.tabId;console.log("selectClick item: ",e,n,o),e?(angular.forEach(t.tabs,function(t){t.id==o&&(t.name=n)}),t.filterObj[o+"Id"]=e):(delete t.filterObj[o+"Id"],angular.forEach(t.tabs,function(t){if(t.id==o)switch(t.id){case"city":t.name="城市";break;case"salary":t.name="薪水";break;case"scale":t.name="公司规模"}}))},t.search(),t.tabs=o.searchTabs,t.city=o.city,t.salary=o.salary,t.scale=o.scale,t.sheets={},t.filterObj={}}])}(),angular.module("app").filter("filterByObj",[function(){return function(t,e){var n=[];return t?(angular.forEach(t,function(t){var o=!0;for(var r in e)t[r]!==e[r]&&(o=!1);o&&n.push(t)}),console.log("result: ",n),n):n}}]),function(){"use strict";angular.module("app").factory("cache",["$cookies",function(t){return{put:function(e,n){t.put(e,n)},get:function(e){return t.get(e)},remove:function(e){t.remove(e)}}}])}(),function(){"use strict";angular.module("app").directive("appSheet",[function(){return{restrict:"A",replace:!0,templateUrl:"view/index/sheet.html",scope:{datas:"=",visible:"=",select:"&"},link:function(t,e,n){t.cancelSheet=function(){t.visible=!1}}}}])}(),function(){"use strict";angular.module("app").directive("appTab",[function(){return{restrict:"A",replace:!0,templateUrl:"view/index/tab.html",scope:{data:"=",tabClick:"&"},link:function(t,e,n){t.selectId=t.data[0].id,t.click=function(e){t.selectId=e.id,t.tabClick(e)}}}}])}(),function(){"use strict";angular.module("app").directive("appCompany",[function(){return{restrict:"A",replace:!0,templateUrl:"view/job/company.html",scope:{company:"="},link:function(t,e,n){}}}])}(),function(){"use strict";angular.module("app").directive("appPositionClaz",[function(){return{restrict:"A",replace:!0,templateUrl:"view/job/positionClaz.html",scope:{clazes:"="},link:function(t,e,n){var o=this;t.showCategory=function(e){o.pos(t,e)},t.$watch("clazes",function(e,n,o){e&&t.showCategory(0)})},pos:function(t,e){t.positionList=t.clazes.positionClass[e].positionList,t.isActive=e}}}])}(),function(){"use strict";angular.module("app").directive("appPositionInfo",[function(){return{restrict:"A",replace:!0,templateUrl:"view/job/positionInfo.html",scope:{isActive:"=",isLogin:"=",position:"="},link:function(t,e,n){t.imgPath="image/star"+(t.isActive?"active":"")+".png"}}}])}(),function(){"use strict";angular.module("app").directive("appFooter",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/footer.html",link:function(t,e,n){}}}])}(),function(){"use strict";angular.module("app").directive("appHead",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/head.html",link:function(t,e,n){}}}])}(),function(){"use strict";angular.module("app").directive("appHeadBar",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/headBar.html",scope:{title:"@"},link:function(t,e,n){t.back=function(){window.history.back()},t.$on("to-child",function(t,e){console.log("to-child",t,e)}),t.$emit("to-parent",{show:"hai"})}}}])}(),function(){"use strict";angular.module("app").directive("appPositionList",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/positionList.html",scope:{data:"=",filterObj:"="},link:function(t,e,n){}}}])}();