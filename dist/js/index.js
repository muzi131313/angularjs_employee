!function(){"use strict";angular.module("app",["ui.router","ngCookies"])}(),function(){"use strict";angular.module("app").value("dict",{}).run(["$http","dict",function(t,e){t({method:"GET",url:"/data/city.json"}).then(function(t){e.city=t},function(t){}),t({method:"GET",url:"/data/salary.json"}).then(function(t){e.salary=t},function(t){}),t({method:"GET",url:"/data/scale.json"}).then(function(t){e.scale=t},function(t){}),e.searchTabs=[{id:"city",name:"城市"},{id:"salary",name:"薪资"},{id:"scale",name:"公司规模"}]}])}(),function(){"use strict";function t(){}angular.module("app").provider("message",t.bind(t)),t.prototype.setLevel=function(t){t=t},t.prototype.$get=function(){return{log:function(){"log"===level?console.log(arguments):angular.noop()},error:function(){"error"===level?console.error(arguments):angular.noop()},warn:function(){"error"===level?console.warn(arguments):angular.noop()}}}}(),function(){"use strict";angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("main",{url:"/main",templateUrl:"view/main.html",controller:"mainCtrl"}).state("position",{url:"/position/:id",templateUrl:"view/position.html",controller:"positionCtrl"}).state("company",{url:"/company/:id",templateUrl:"view/company.html",controller:"companyCtrl"}).state("search",{url:"/search",templateUrl:"view/search.html",controller:"searchCtrl"}).state("my",{url:"/my",templateUrl:"view/my.html",controller:"myCtrl"}),e.otherwise("main")}])}(),function(){"use strict";angular.module("app").controller("companyCtrl",["$scope","$http","$state",function(t,e,n){e({method:"GET",url:"/data/company.json",params:{companyId:n.params.id}}).then(function(e){t.company=e.data,t.$broadcast("to-child",{word:"world!"})},function(t){}),t.$on("to-parent",function(t,e){console.log("to-parent",t,e)})}])}(),function(){"use strict";angular.module("app").controller("mainCtrl",["$scope","$http",function(t,e){e({method:"GET",url:"/data/positionList.json"}).then(function(e){t.jobList=e.data},function(t){})}])}(),function(){"use strict";angular.module("app").controller("myCtrl",["$scope","$http","$state",function(t,e,n){}])}(),function(){"use strict";angular.module("app").controller("positionCtrl",["$scope","$http","$state","$q","cache",function(t,e,n,a,o){function i(n){var o=a.defer();return e({method:"GET",url:"/data/company.json",params:{companyId:n}}).then(function(e){t.company=e.data,o.resolve(e)},function(t){o.reject(t)}),o.promise}var r=n.params.id;t.isLogin=!1,t.isActive=!1,o.put("key","day"),function(){var n=a.defer();return e({method:"GET",url:"/data/position.json",params:{positionId:r}}).then(function(e){t.position=e.data,n.resolve(e)},function(t){n.reject(t)}),n.promise}().then(function(t){i(t.data.companyId)})}])}(),function(){"use strict";angular.module("app").controller("searchCtrl",["$scope","$http","$state","dict",function(t,e,n,a){function o(t,e,n){t=t||[];var a,o,i,r,c,l;return t=t.filter(function(t,s){return o=r=l="",n&&Object.keys(n).length&&(n.cityName&&(o=n.cityName),n.jobName&&(r=n.jobName),n.salaryName&&(l=n.salaryName)),e&&(o=r=l=e),a=!!~t.cityName.indexOf(e),i=!!~t.job.indexOf(e),c=!!~t.salaryName.indexOf(e),a||i||c})}function i(n,a){e({method:"GET",url:"/data/positionList.json",params:a||{}}).then(function(e){o(e.data,n,a),t.jobList=e.data},function(t){})}t.search=function(){i(t.name,{jobName:t.jobName,cityName:t.cityName,salarayName:t.salarayName})},t.cancel=function(){t.name="",t.jobName="",t.cityName="",t.salarayName="",t.search()},t.tabClick=function(e,n){console.log("tab click item: ",e,n,a),t.sheets.list=a[e].data,t.sheets.visible=!0,t.tabId=e},t.selectClick=function(e,n){var a=t.tabId;console.log("selectClick item: ",e,n,a),e?(angular.forEach(t.tabs,function(t){t.id==a&&(t.name=n)}),t.filterObj[a+"Id"]=e):(delete t.filterObj[a+"Id"],angular.forEach(t.tabs,function(t){if(t.id==a)switch(t.id){case"city":t.name="城市";break;case"salary":t.name="薪水";break;case"scale":t.name="公司规模"}}))},t.search(),t.tabs=a.searchTabs,t.city=a.city,t.salary=a.salary,t.scale=a.scale,t.sheets={},t.filterObj={}}])}(),angular.module("app").filter("filterByObj",[function(){return function(t,e){var n=[];return t?(angular.forEach(t,function(t){var a=!0;for(var o in e)t[o]!==e[o]&&(a=!1);a&&n.push(t)}),console.log("result: ",n),n):n}}]),function(){"use strict";angular.module("app").factory("cache",["$cookies",function(t){return{put:function(e,n){t.put(e,n)},get:function(e){return t.get(e)},remove:function(e){t.remove(e)}}}])}(),function(){"use strict";angular.module("app").directive("appCompany",[function(){return{restrict:"A",replace:!0,templateUrl:"view/job/company.html",scope:{company:"="},link:function(t,e,n){}}}])}(),function(){"use strict";angular.module("app").directive("appPositionClaz",[function(){return{restrict:"A",replace:!0,templateUrl:"view/job/positionClaz.html",scope:{clazes:"="},link:function(t,e,n){var a=this;t.showCategory=function(e){a.pos(t,e)},t.$watch("clazes",function(e,n,a){e&&t.showCategory(0)})},pos:function(t,e){t.positionList=t.clazes.positionClass[e].positionList,t.isActive=e}}}])}(),function(){"use strict";angular.module("app").directive("appPositionInfo",[function(){return{restrict:"A",replace:!0,templateUrl:"view/job/positionInfo.html",scope:{isActive:"=",isLogin:"=",position:"="},link:function(t,e,n){t.imgPath="image/star"+(t.isActive?"active":"")+".png"}}}])}(),function(){"use strict";angular.module("app").directive("appSheet",[function(){return{restrict:"A",replace:!0,templateUrl:"view/index/sheet.html",scope:{datas:"=",visible:"=",select:"&"},link:function(t,e,n){t.cancelSheet=function(){t.visible=!1}}}}])}(),function(){"use strict";angular.module("app").directive("appTab",[function(){return{restrict:"A",replace:!0,templateUrl:"view/index/tab.html",scope:{data:"=",tabClick:"&"},link:function(t,e,n){t.selectId=t.data[0].id,t.click=function(e){t.selectId=e.id,t.tabClick(e)}}}}])}(),function(){"use strict";angular.module("app").directive("appFooter",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/footer.html",link:function(t,e,n){}}}])}(),function(){"use strict";angular.module("app").directive("appHead",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/head.html",link:function(t,e,n){}}}])}(),function(){"use strict";angular.module("app").directive("appHeadBar",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/headBar.html",scope:{title:"@"},link:function(t,e,n){t.back=function(){window.history.back()},t.$on("to-child",function(t,e){console.log("to-child",t,e)}),t.$emit("to-parent",{show:"hai"})}}}])}(),function(){"use strict";angular.module("app").directive("appPositionList",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/positionList.html",scope:{data:"=",filterObj:"="},link:function(t,e,n){}}}])}();